!function(e){"object"==typeof module&&"object"==typeof module.exports?e(require("jquery"),window,document):e(jQuery,window,document)}(function(e,t,n,i){"use strict";e.fn.timeline=function(t,n){!t instanceof Array&&(t=[]);var i=e.extend({slide:1,eventsPerSlide:6,eventTemplate:'<li class="timeline__events__event"><div class="event"><div class="event__date">####DATE###</div><div class="event__content">####CONTENT###</div></div></li>',prevArrow:"prev",nextArrow:"next"},n),r=function(t,n){var r=i.eventTemplate;r=r.replace("####DATE###",t.date),r=r.replace("####CONTENT###",t.content);var a=100/(i.eventsPerSlide-1)*n;return e(r).css("left",a+"%")};return this.each(function(){var n=this,a=e(this),l=i.slide-1;a.data({events:t,settings:i,currentSlide:l}).addClass("timeline");var s=function(){a.removeClass("timeline--initialized"),a.find(".timeline__events").remove(),a.find(".timeline__navigation").remove()},d=function(){var t=a.data("currentSlide"),i=a.data("settings"),l=a.data("events");e("<ol/>",{"class":"timeline__events"}).append(l.slice(t*i.eventsPerSlide,(t+1)*i.eventsPerSlide).map(r)).appendTo(n)},v=function(){var r=a.data("currentSlide"),l=function(n){switch(n){case"prev":if(r>0)return e('<li><a href="#" class="'+n+'">'+i.prevArrow+"</a></li>");break;case"next":if((r+1)*i.eventsPerSlide<t.length)return e('<li><a href="#" class="'+n+'">'+i.nextArrow+"</a></li>")}return e("<li></li>")};e("<ul/>",{"class":"timeline__navigation"}).append(["prev","next"].map(l)).appendTo(n)},c=function(){s(),d(),v(),setTimeout(function(){a.addClass("timeline--initialized")},100)};c(),e("body").on("click",".timeline .timeline__navigation li > *",function(n){if(n.preventDefault(),e(this).hasClass("prev")){var r=a.data("currentSlide");if(r<1)return!1;a.data({events:t,settings:i,currentSlide:r-1}),c()}else{var r=a.data("currentSlide");if((r+1)*i.eventsPerSlide>=t.length)return!1;a.data({events:t,settings:i,currentSlide:r+1}),c()}})})}});